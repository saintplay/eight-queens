{"version":3,"sources":["main.js"],"names":["Application","_$","initElements","rollback_button","$","play_button","restart_button","time_counter","Puntajes","FIN_TIEMPO","JUGADA_CORRECTA","JUGADA_INCORRECTA","USAR_ROLLBACK","Globales","NUMERO_JUGADORES","JugadorKey","Turno","this","_jugador_actual_key","JugadorA","Object","defineProperty","prototype","get","set","new_key","enumerable","configurable","cambiar","Tablero","filas","columnas","TimeController","_interval_handle","$time_counter","_time","new_time","mostrarTiempo","text","descontarTiempo","TIEMPO_FIN","alAcabarse","empezarContador","SEGUNDOS","setInterval","bind","terminarContador","clearInterval","Jugador","new_icon","_es_ia","puntos","_icono","new_es_ia","empezarTurno","addClass","alert","llegaAlLimiteDeTiempo","terminaTurno","removeClass","alTerminar","time_controller","turno","jugador_a","jugador_b","jugadores","Juego","siguienteTurno","cambiarTurno","jugador_actual","jugador_key","EsIA","on","hide","show"],"mappings":"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","file":"../8Queens/main.js","sourcesContent":["var Application;\n(function (Application) {\n    var _$ = (function () {\n        function _$() {\n        }\n        _$.initElements = function () {\n            _$.rollback_button = $('#rollback-button');\n            _$.play_button = $('#play-button');\n            _$.restart_button = $('#restart-button');\n            _$.time_counter = $('#time-counter');\n        };\n        return _$;\n    }());\n    Application._$ = _$;\n    var Puntajes = (function () {\n        function Puntajes() {\n        }\n        return Puntajes;\n    }());\n    Puntajes.FIN_TIEMPO = -5;\n    Puntajes.JUGADA_CORRECTA = 10;\n    Puntajes.JUGADA_INCORRECTA = -5;\n    Puntajes.USAR_ROLLBACK = 0;\n    Application.Puntajes = Puntajes;\n    var Globales = (function () {\n        function Globales() {\n        }\n        return Globales;\n    }());\n    Globales.NUMERO_JUGADORES = 2;\n    Application.Globales = Globales;\n})(Application || (Application = {}));\n/// <reference path=\"Globals.ts\" />\nvar Application;\n(function (Application) {\n    var JugadorKey;\n    (function (JugadorKey) {\n        JugadorKey[JugadorKey[\"JugadorA\"] = 0] = \"JugadorA\";\n        JugadorKey[JugadorKey[\"JugadorB\"] = 1] = \"JugadorB\";\n    })(JugadorKey = Application.JugadorKey || (Application.JugadorKey = {}));\n    var Turno = (function () {\n        function Turno() {\n            this._jugador_actual_key = JugadorKey.JugadorA;\n        }\n        Object.defineProperty(Turno.prototype, \"jugador_key\", {\n            get: function () {\n                return this._jugador_actual_key;\n            },\n            set: function (new_key) {\n                this._jugador_actual_key = new_key;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Turno.prototype.cambiar = function () {\n            if (this._jugador_actual_key + 1 == Application.Globales.NUMERO_JUGADORES)\n                this._jugador_actual_key;\n            this._jugador_actual_key++;\n        };\n        return Turno;\n    }());\n    Application.Turno = Turno;\n    var Tablero = (function () {\n        function Tablero() {\n            this.filas = 8;\n            this.columnas = 8;\n        }\n        return Tablero;\n    }());\n    Application.Tablero = Tablero;\n})(Application || (Application = {}));\n/// <reference path=\"Globals.ts\" />\nvar Application;\n(function (Application) {\n    var TimeController = (function () {\n        function TimeController() {\n            this._interval_handle = null;\n            TimeController.$time_counter = $('#time-counter');\n        }\n        Object.defineProperty(TimeController.prototype, \"time\", {\n            get: function () {\n                return this._time;\n            },\n            set: function (new_time) {\n                this._time = new_time;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        TimeController.prototype.mostrarTiempo = function () {\n            TimeController.$time_counter.text(this._time);\n        };\n        TimeController.prototype.descontarTiempo = function () {\n            this._time--;\n            this.mostrarTiempo();\n            if (this._time == TimeController.TIEMPO_FIN)\n                TimeController.alAcabarse();\n        };\n        TimeController.prototype.empezarContador = function () {\n            this._time = TimeController.SEGUNDOS;\n            this.mostrarTiempo();\n            this._interval_handle = setInterval(this.descontarTiempo.bind(this), 1e3);\n        };\n        TimeController.prototype.terminarContador = function () {\n            if (this._interval_handle != null)\n                clearInterval(this._interval_handle);\n        };\n        return TimeController;\n    }());\n    TimeController.SEGUNDOS = 5;\n    TimeController.TIEMPO_FIN = -1; // Vamos a contar al cero como un segundo más\n    Application.TimeController = TimeController;\n})(Application || (Application = {}));\n/// <reference path=\"Globals.ts\" />\nvar Application;\n(function (Application) {\n    var Jugador = (function () {\n        function Jugador(new_icon) {\n            this._es_ia = false;\n            this.puntos = 0;\n            this._icono = $(new_icon);\n        }\n        Object.defineProperty(Jugador.prototype, \"EsIA\", {\n            get: function () {\n                return this._es_ia;\n            },\n            set: function (new_es_ia) {\n                this._es_ia = new_es_ia;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Jugador.prototype.empezarTurno = function () {\n            this._icono.addClass('jugador-activo');\n            if (this._es_ia) {\n                alert('Soy una maquina');\n            }\n        };\n        Jugador.prototype.llegaAlLimiteDeTiempo = function () {\n            this.puntos -= Application.Puntajes.FIN_TIEMPO;\n            this.terminaTurno();\n        };\n        Jugador.prototype.terminaTurno = function () {\n            this._icono.removeClass('jugador-activo');\n            this.alTerminar();\n        };\n        return Jugador;\n    }());\n    Application.Jugador = Jugador;\n})(Application || (Application = {}));\n/// <reference path=\"Globals.ts\" />\n/// <reference path=\"Tablero.ts\" />\n/// <reference path=\"TimeController.ts\" />\n/// <reference path=\"Jugador.ts\" />\nvar Application;\n(function (Application) {\n    var time_controller;\n    var tablero;\n    Application.turno = new Application.Turno();\n    var jugador_a;\n    var jugador_b;\n    var jugadores = [jugador_a, jugador_b];\n    var Juego = (function () {\n        function Juego() {\n        }\n        // El unico momento donde no cambiaremos el turno es al comienzo del juego\n        Juego.siguienteTurno = function (cambiarTurno) {\n            if (cambiarTurno === void 0) { cambiarTurno = true; }\n            if (cambiarTurno == true) {\n                Application.turno.cambiar();\n            }\n            var jugador_actual = jugadores[Application.turno.jugador_key];\n            // Callbacks: Que función se ejecutara cuando cada jugador termine su turnos\n            Application.TimeController.alAcabarse = jugador_actual.llegaAlLimiteDeTiempo\n                .bind(jugador_actual);\n            jugador_actual.empezarTurno();\n            time_controller.terminarContador();\n            time_controller.empezarContador();\n        };\n        return Juego;\n    }());\n    $(function () {\n        Application._$.initElements();\n        time_controller = new Application.TimeController();\n        jugador_a = new Application.Jugador('#human-icono');\n        jugador_b = new Application.Jugador('#robot-icono');\n        jugador_b.EsIA = true;\n        Application.turno.jugador_key = Application.JugadorKey.JugadorA;\n        // Callbacks: Que función se ejecutara cuando cada jugador termine su turnos\n        jugador_a.alTerminar = Juego.siguienteTurno;\n        jugador_b.alTerminar = Juego.siguienteTurno;\n        Application._$.play_button.on('click', function () {\n            time_controller.empezarContador();\n            // Ejecutamos el siguiente turno para empezar el juego\n            Juego.siguienteTurno(false);\n        });\n        Application._$.rollback_button.on('click', function () {\n            Application._$.rollback_button.hide();\n            $('#human-box .rb-status').addClass('rb-used');\n        });\n        Application._$.restart_button.on('click', function () {\n            Application._$.rollback_button.hide();\n            $('td').removeClass(\"queen-images\");\n            $('#human-box .rb-status').removeClass('rb-used');\n            Application._$.rollback_button.show();\n        });\n        $('td').on('click', function () {\n            $(this).addClass('queen-images');\n        });\n    });\n})(Application || (Application = {}));\n"]}